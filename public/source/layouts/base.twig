<!DOCTYPE html>
{% import _self as macros %}

{% set scope = {
	title: 'Кот Бродского',
	meta_title: 'Кот Бродского − это проект про книги, город, людей, котов, бабушкин ундервуд и старую шляпу.',
	meta_description: 'Проект про книги, город, людей, котов, бабушкин ундервуд и старую шляпу.',
	isHome: scope.isHome,
} %}

{% macro manifest(scope) %}
	<link rel='apple-touch-icon' sizes='180x180' href='/manifest/apple-touch-icon.png'>
	<link rel='icon' type='image/png' sizes='32x32' href='/manifest/favicon-32x32.png'>
	<link rel='icon' type='image/png' sizes='16x16' href='/manifest/favicon-16x16.png'>
	<link rel='manifest' href='/manifest/site.webmanifest'>
	<link rel='mask-icon' href='/manifest/safari-pinned-tab.svg' color='#f5b233'>
	<meta name='apple-mobile-web-app-title' content='Кот Бродского'>
	<meta name='application-name' content='Кот Бродского'>
	<meta name='msapplication-TileColor' content='#ffffff'>
	<meta name='theme-color' content='#ffffff'>
{% endmacro %}

<html class='no-js no-js' lang='ru'>
	<head>
		<meta charset='utf-8'>
		<title>{{ scope.title }}</title>
		<meta name='description' content='{{ scope.meta_description }}'>
		<meta name='title' content='{{ scope.meta_title }}'>
		{#{{ macros.manifest(scope) }}#}
		<meta name='viewport' content='width=device-width, initial-scale=1.0'>
		<script>
			window['site'] = {};
			window.rootElement = document.documentElement;
			rootElement.classList.remove('no-site-js');
			rootElement.classList.add('site-js');
		</script>
		<style>
			.no-js .navLayer {
				/*opacity: 1;*/
			}
			.js .navLayer {
				/*opacity: 0;*/
			}
			.js .videoPresentation ~ .navLayer {
				/*opacity: 1;*/
			}
		</style>
		<script>
			window.rootElement = document.documentElement;
			rootElement.classList.remove('no-js');
			rootElement.classList.add('js');
			window['site'] = {
				description: '{{ scope.meta_title }}'
			};
		</script>
		<link href='{{ 'style.css'|cachedAsset }}' rel='stylesheet'>
		{#
		thin 100
		light 300
		regular 400
		medium 500
		bold 700
		black 900
		#}
		{#<link href='https://fonts.googleapis.com/css?family=Roboto:400,500,700&amp;subset=cyrillic' rel='stylesheet'>#}
		<link href='https://fonts.googleapis.com/css?family=PT+Mono' rel='stylesheet'>
	</head>
	<body>
		<div class='wrapper'>
			<div class='container'>
				{% block main %}{% endblock %}
			</div>
		</div>
		{# Put modals/popups here #}
		{% block scripts %}
			<script src='{{ 'script.js'|cachedAsset }}'></script>
		{% endblock %}
	</body>
</html>
